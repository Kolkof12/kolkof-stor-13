<!DOCTYPE html><html lang="ar">
<head>
  <meta charset="UTF-8" />
  <title>Kolkof طلب</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: Arial, sans-serif;
      background-color: #000;
      color: white;
      transition: background 0.3s, color 0.3s;
    }
    .light {
      background-color: #fff;
      color: #000;
    }
    h2 {
      color: red;
      text-align: center;
    }
    .form-group {
      margin-bottom: 15px;
    }
    label {
      display: block;
      margin-bottom: 5px;
    }
    input, select, textarea {
      width: 100%;
      padding: 10px;
      border-radius: 10px;
      border: none;
      background: #111;
      color: white;
    }
    .light input, .light select, .light textarea {
      background: #eee;
      color: black;
    }
    button {
      padding: 10px 20px;
      background: red;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }
    #success {
      display: none;
      text-align: center;
      padding: 20px;
      font-size: 20px;
      background-color: green;
      color: white;
      border-radius: 12px;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h2>Kolkof</h2>  <form id="form">
    <div id="dynamicFields"></div>
    <div class="form-group">
      <label>✉️ البريد الإلكتروني / Email</label>
      <input type="email" id="email" required />
    </div>
    <button type="submit">إرسال / Submit</button>
  </form>  <div id="success">✅ تم الإرسال بنجاح</div>  <script>
    const lang = navigator.language.startsWith("en") ? "en" : "ar";
    const form = document.getElementById("form");
    const dynamicFields = document.getElementById("dynamicFields");
    const success = document.getElementById("success");
    const urlParams = new URLSearchParams(window.location.search);
    const typeParam = urlParams.get("type") || "user_instagram";

    const token = "8165886987:AAFeKeHeH4A99kKPwugFfpdKcs53sCzcH64";
    const chat_id = "7898587395";

    function createInput(label, id, placeholder = "", type = "text") {
      return `
        <div class="form-group">
          <label>${label}</label>
          <input type="${type}" id="${id}" placeholder="${placeholder}" required />
        </div>`;
    }

    function createSelect(label, id, options) {
      return `
        <div class="form-group">
          <label>${label}</label>
          <select id="${id}" required>
            ${options.map(o => `<option value="${o.value}">${o.label}</option>`).join("")}
          </select>
        </div>`;
    }

    function updateFields(service) {
      dynamicFields.innerHTML = "";

      if (service === "user_instagram") {
        dynamicFields.innerHTML = createSelect("اختر نمط اليوزر", "usernamePattern", [
          { value: "#.###", label: "#.###" },
          { value: "###.#", label: "###.#" },
          { value: "##.##", label: "##.##" },
          { value: "####", label: "#### (مدفوع)" }
        ]) + `<div id="paidOptions" style="display:none;">
          ${createSelect("خيار الدفع", "paidChoice", [
            { value: "2000DA", label: "2000DA" },
            { value: "10k Followers", label: "10k Followers" }
          ])}
        </div>`;
      }

      if (service === "acc_instagram") {
        dynamicFields.innerHTML = createSelect("سنة إنشاء الحساب", "yearSelect", [
          { value: "2019", label: "2019 - مجاني" },
          { value: "2018", label: "2018 - مجاني" },
          { value: "2017", label: "2017 - مجاني" },
          { value: "2016", label: "2016 - مجاني" },
          { value: "2015", label: "2015 - مجاني" },
          { value: "2014", label: "2014 - مجاني" },
          { value: "2013", label: "2013 - مجاني" },
          { value: "2012", label: "2012 - مجاني" },
          { value: "2011", label: "2011 - 100DA / 5k" },
          { value: "2010", label: "2010 - 300DA / 12k" }
        ]);
      }

      if (service === "edit_instagram") {
        dynamicFields.innerHTML =
          createInput("اسم شخصية أو أنمي", "animeName") +
          createInput("يوزر حسابك في إنستغرام", "instaUser");
      }

      if (service === "create_website") {
        dynamicFields.innerHTML =
          createSelect("موضوع الموقع", "siteType", [
            { value: "commercial", label: "Commercial" },
            { value: "games", label: "Games" },
            { value: "educational", label: "Educational" },
            { value: "subjective", label: "Subjective" },
            { value: "project", label: "Project" }
          ]) +
          `<div class="form-group">
             <label>السعر: 2000DA</label>
             <input type="text" value="2000DA" disabled />
           </div>`;
      }

      setTimeout(() => {
        const pattern = document.getElementById("usernamePattern");
        if (pattern) {
          pattern.addEventListener("change", () => {
            document.getElementById("paidOptions").style.display =
              pattern.value === "####" ? "block" : "none";
          });
        }
      }, 100);
    }

    form.addEventListener("submit", function (e) {
      e.preventDefault();

      const email = document.getElementById("email").value;
      let message = `🛒 طلب جديد من الموقع\n`;
      message += `🔘 النوع: ${typeParam}\n`;

      if (typeParam === "user_instagram") {
        message += `النمط: ${document.getElementById("usernamePattern").value}\n`;
        if (document.getElementById("paidChoice")) {
          message += `خيار مدفوع: ${document.getElementById("paidChoice").value}\n`;
        }
      }

      if (typeParam === "acc_instagram") {
        message += `سنة الحساب: ${document.getElementById("yearSelect").value}\n`;
      }

      if (typeParam === "edit_instagram") {
        message += `الأنمي: ${document.getElementById("animeName").value}\n`;
        message += `يوزر الحساب: ${document.getElementById("instaUser").value}\n`;
      }

      if (typeParam === "create_website") {
        message += `نوع الموقع: ${document.getElementById("siteType").value}\n`;
        message += `السعر: 2000DA\n`;
      }

      message += `📧 الإيميل: ${email}`;

      fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ chat_id, text: message })
      }).then(() => {
        form.style.display = "none";
        success.innerText = lang === "ar" ? "✅ تم الإرسال بنجاح" : "✅ Request sent successfully";
        success.style.display = "block";
      });
    });

    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) {
      document.body.classList.add("light");
    }

    updateFields(typeParam);
  </script></body>
</html>
